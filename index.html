<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
	<title>中秋国庆幸运大转盘</title>
<style>
*{
	margin: 0;
	padding: 0;
}
body {
		font-family: 'Microsoft YaHei', sans-serif;
		background: linear-gradient(135deg, #e63946 0%, #c1121f 50%, #780000 100%);
		color: #fff;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		overflow: hidden;
		position: relative;
	}

	/* 中秋国庆氛围背景装饰 */
	body::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-image: 
			url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z' stroke='rgba(255, 215, 0, 0.2)' stroke-width='0.5'/%3E%3Cpath d='M12 18L12 6' stroke='rgba(255, 215, 0, 0.2)' stroke-width='0.5'/%3E%3Cpath d='M6 12L18 12' stroke='rgba(255, 215, 0, 0.2)' stroke-width='0.5'/%3E%3Cpath d='M16.2426 7.75736L7.75736 16.2426' stroke='rgba(255, 215, 0, 0.2)' stroke-width='0.5'/%3E%3Cpath d='M16.2426 16.2426L7.75736 7.75736' stroke='rgba(255, 215, 0, 0.2)' stroke-width='0.5'/%3E%3C/svg%3E"); 
		z-index: -1;
	}

	/* 增强背景层次感 */
	body::after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: radial-gradient(circle at center, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0) 70%);
		z-index: -1;
	}

	/* 装饰性灯笼 */
	.lantern {
		position: absolute;
		width: 60px;
		height: 80px;
		background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
		border-radius: 50% 50% 10% 10%;
		box-shadow: 0 5px 15px rgba(231, 76, 60, 0.7);
		animation: swing 3s ease-in-out infinite;
	}

	.lantern::before {
		content: '';
		position: absolute;
		top: -10px;
		left: 50%;
		transform: translateX(-50%);
		width: 20px;
		height: 20px;
		background-color: #f1c40f;
		border-radius: 50%;
	}

	.lantern::after {
		content: '中秋';
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		color: #f1c40f;
		font-size: 16px;
		font-weight: bold;
		text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
	}

	@keyframes swing {
		0%, 100% { transform: rotate(-3deg); }
		50% { transform: rotate(3deg); }
	}

	/* 飘落的装饰元素 */
	.falling-petal {
		position: absolute;
		background-color: rgba(255, 99, 71, 0.6);
		border-radius: 50% 0 50% 0;
		opacity: 0;
		animation: fall linear infinite;
	}

	@keyframes fall {
		0% {
			opacity: 0;
			transform: translateY(-10%) rotate(0deg) scale(0.5);
		}
		10% {
			opacity: 1;
		}
		100% {
			opacity: 0;
			transform: translateY(100vh) rotate(360deg) scale(0.5);
		}
	}

#lottery-wrap{
    position: relative;
	display: block;
	margin: 20px auto;
	width: 300px;
    border: 8px solid #eac34c;
    border-radius: 50%;
    box-shadow: 3px 0 3px #fffdc9, 0px 3px 3px #fffdc9, -3px 0 3px #fffdc9, 0px -3px 3px #fffdc9;
}
canvas{
    display: block;
}

#lottery-handler{
    position: absolute;
    z-index: 2;
    width: 60px;
    height: 74px;
    left: 50%;
    top: 50%;
    margin: -44px 0 0 -30px;
    background: url(./images/handler.png) no-repeat 50%;
    background-size: contain;
}
@keyframes twinkle {
		0% { opacity: 0.2; transform: scale(0.8); }
		50% { opacity: 1; transform: scale(1.2); }
		100% { opacity: 0.2; transform: scale(0.8); }
	}
/* 装饰性星星 */
	.star {
		position: absolute;
		background-color: #ffd700;
		border-radius: 50%;
		opacity: 0;
		animation: twinkle 3s infinite;
	}
	
/* 中奖结果显示区域 - 修改为页面内展示 */
.result-container {
    margin-top: 30px;
    width: 80%;
    max-width: 400px;
    background: linear-gradient(135deg, #fffdc9 0%, #ffdf8a 100%);
    color: #ee6500;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    transition: all 0.5s ease;
}

.result-container.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.result-container.show .result-content {
    transform: scale(1);
}

.result-title {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 15px;
    color: #c1121f;
}

.result-text {
    font-size: 18px;
    margin-bottom: 20px;
}

.result-close {
    background-color: #c1121f;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s ease;
}

.result-close:hover {
    background-color: #780000;
}

/* 转盘标题 */
.lottery-title {
    font-size: 28px;
    font-weight: bold;
    color: #ffd700;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

/* 底部文字 */
.footer-text {
    margin-top: 30px;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
}

/* 装饰性文字 */
.festival-text {
	position: absolute;
	font-size: 16px;
	color: rgba(255, 215, 0, 0.8);
	text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
	font-weight: bold;
	transform: rotate(-15deg);
}

/* 云纹装饰 */
.cloud-decoration {
	position: absolute;
	width: 200px;
	height: 80px;
	background: rgba(255, 255, 255, 0.05);
	border-radius: 40px;
	filter: blur(5px);
}

.cloud-decoration::before, .cloud-decoration::after {
	content: '';
	position: absolute;
	background: rgba(255, 255, 255, 0.05);
	border-radius: 50%;
}

.cloud-decoration::before {
	width: 100px;
	height: 100px;
	top: -50px;
	left: 30px;
}

.cloud-decoration::after {
	width: 80px;
	height: 80px;
	top: -40px;
	right: 30px;
}
</style>
</head>
<body>
<!-- 装饰性灯笼 -->
<div class="lantern" style="top: 15%; left: 5%; animation-delay: 0s;"></div>
<div class="lantern" style="top: 20%; right: 1%; animation-delay: 1s;"></div>
<div class="lantern" style="top: 42%; left: 1%; animation-delay: 0.5s;"></div>
<div class="lantern" style="top: 48%; right: 1%; animation-delay: 1.5s;"></div>

<!-- 云纹装饰 -->
<div class="cloud-decoration" style="top: 10%; left: 5%; opacity: 0.3;"></div>
<div class="cloud-decoration" style="bottom: 10%; right: 5%; opacity: 0.3;"></div>

<!-- 装饰性星星 -->
	<div class="stars-container"></div>

<!-- 装饰性文字 -->
<div class="festival-text" style="top: 5%; left: 50%; transform: translateX(-50%);">双节同庆</div>
<div class="festival-text" style="top: 15%; left: 20%; transform: rotate(-15deg);">月圆人团圆</div>
<div class="festival-text" style="top: 15%; right: 20%; transform: rotate(15deg);">国富民强</div>
<div class="festival-text" style="bottom: 15%; left: 20%; transform: rotate(15deg);">阖家欢乐</div>
<div class="festival-text" style="bottom: 15%; right: 20%; transform: rotate(-15deg);">繁荣昌盛</div>

<!-- 转盘标题 -->
<h1 class="lottery-title">中秋国庆幸运大转盘</h1>
<div class="subtitle">双节同庆 · 幸运满满</div>
	
<div id="lottery-wrap">
    <div id="lottery-handler"></div>
    <canvas width="300" height="300" id="lottery"></canvas>
</div>

<!-- 中奖结果显示区域 - 改为页面内展示 -->
<div class="result-container" id="resultContainer">
    <h2 class="result-title" id="result-title1"></h2>
    <img style="width: 50px; height: 50px;" src="" alt="" id="resultImg">
    <p class="result-text" id="resultText">恭喜你中得：10元红包</p>
    <button class="result-close" id="resultClose">确定</button>
</div>

<!-- 底部文字 -->
<p class="footer-text">中秋团圆，国庆快乐！</p>
<p class="footer-subtext">愿好运常伴，幸福安康</p>

<script>
// 创建随机星星背景
	function createStars() {
		const container = document.querySelector('.stars-container');
		const count = 50;
		
		for (let i = 0; i < count; i++) {
			const star = document.createElement('div');
			star.classList.add('star');
			
			// 随机大小和位置
			const size = Math.random() * 4 + 2;
			const x = Math.random() * 100;
			const y = Math.random() * 100;
			const delay = Math.random() * 5;
			const duration = Math.random() * 3 + 2;
			
			star.style.width = `${size}px`;
			star.style.height = `${size}px`;
			star.style.left = `${x}%`;
			star.style.top = `${y}%`;
			star.style.animationDelay = `${delay}s`;
			star.style.animationDuration = `${duration}s`;
			
			container.appendChild(star);
		}
	}

	// 创建飘落的装饰元素
	function createFallingElements() {
		const body = document.body;
		const count = 30;
		
		for (let i = 0; i < count; i++) {
			const petal = document.createElement('div');
			petal.classList.add('falling-petal');
			
			// 随机大小、位置和动画时长
			const size = Math.random() * 10 + 5;
			const x = Math.random() * 100;
			const duration = Math.random() * 10 + 10;
			const delay = Math.random() * 15;
			const rotation = Math.random() * 360;
			
			petal.style.width = `${size}px`;
			petal.style.height = `${size}px`;
			petal.style.left = `${x}%`;
			petal.style.animationDuration = `${duration}s`;
			petal.style.animationDelay = `${delay}s`;
			petal.style.transform = `rotate(${rotation}deg)`;
			
			// 随机颜色 - 红色系和金色系
			const colors = ['rgba(255, 99, 71, 0.6)', 'rgba(255, 165, 0, 0.6)', 'rgba(255, 215, 0, 0.6)'];
			petal.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
			
			body.appendChild(petal);
		}
	}

	// 页面加载完成后创建装饰元素
	document.addEventListener('DOMContentLoaded', function() {
		createStars();
		createFallingElements();
	});
	
	// 初始化结果显示区域
	const resultContainer = document.getElementById('resultContainer');
	const resultText = document.getElementById('resultText');
	const resultImg = document.getElementById('resultImg');
	const resultTitle = document.getElementById('result-title1');
	const resultClose = document.getElementById('resultClose');
	
	// 关闭结果显示
	resultClose.addEventListener('click', function() {
		resultContainer.classList.remove('show');
	});

/*模拟ajax请求数据返回*/
function _ajax(callback){
	/*jQuery.ajax({
		url: url,
		data: data,
		success: function(response){
			callback && callback(response);
		}
	})*/
	setTimeout(function(){
		var _index   = Math.floor(Math.random()*products.length);
		var response = {id: 1,title: products[_index].title, name: products[_index].name, index: _index, imgUrl: products[_index].imgUrl, type: products[_index].type};
		callback && callback(response);
	}, 100);
}

var products = [
    {
        "imgUrl": "./images/sm.jpg",
        "name": "保持神秘",
        type: "奖励小王子",
        title: '恭喜你获得：夸小王子五分钟~'
    },
    {
        "imgUrl": "./images/mh.jpg",
        "name": "盲盒一个",
        type: "盲盒",
        title: '恭喜你获得：抽取盲盒一个~'
    },
    {
        "imgUrl": "./images/my.jpg",
        "name": "坚强",
        type: '没有',
        title: '很遗憾 什么都没有~ 再接再厉吧！'
    },
    {
        "imgUrl": "./images/jl.jpg",
        "name": "奖励1",
        type: "奖励1",
        title: '奖励来了：给小公主买零食一次~'
    },
    {
        "imgUrl": "./images/mh.jpg",
        "name": "盲盒一个",
        type: "盲盒",
        title: '恭喜你获得：抽取盲盒一个~'
    },
    {
        "imgUrl": "./images/sm.jpg",
        "name": "保持神秘",
        type: "奖励小王子",
        title: '恭喜你获得：给小王子捏肩~'
    },
    {
        "imgUrl": "./images/my.jpg",
        "name": "坚强",
        type: '没有',
        title: '很遗憾 什么都没有~ 再接再厉吧！'
    },
    {
        "imgUrl": "./images/mh.jpg",
        "name": "盲盒一个",
        type: "盲盒",
        title: '恭喜你获得：抽取盲盒一个~'
    },
    {
        "imgUrl": "./images/jl.jpg",
        "name": "奖励2",
        type: "奖励2",
        title: '奖励来了：胖揍小王子一顿~'
    },
    {
        "imgUrl": "./images/my.jpg",
        "name": "坚强",
        type: '没有',
        title: '很遗憾 什么都没有~ 再接再厉吧！'
    },
];
(function(){
/**
 * Date: 2017/8/18
 * Email: 506713930@qq.com
 * Author: hishion
 * 
 * [Lottery 大转盘抽奖js插件, 无依赖, 简单易用]
 * @param  {[Dom Object]} oCanvas [canvas对象]
 * @param  {[Object]}     options [配置参数, 请参考底部的_setOptions方法中的config对象]
 */
function Lottery(){
    return this._init.apply(this, arguments);
}
Lottery.prototype = {
    _init: function(oCanvas, options){
        if(!oCanvas)return false;
        this.oCanvas  = oCanvas;
        this.options  = this._setOptions(options);
        this.size     = (this.options.products || []).length;
        this.angle    = 2 * Math.PI / this.size;
        this.sAngle   = 1.5*Math.PI - this.angle/2;
        this.ctx      = oCanvas.getContext("2d");

        this.rotate   = 0;
        /*存储图片元素*/
        this.oImages  = [];
        /*存储图片链接*/
        this.imgUrl   = [];
        this.isOver   = true;

        this._setLayout();
        this._fixOptions();

        this._draw();
        this._start();
    },
    /*修正options参数*/
    _fixOptions: function(){
        this.outerRadius   = parseInt(this.options.outerRadius) || this.radius;
        this.innerRadius   = parseInt(this.options.innerRadius) * this.options.scale || 0;
        this.options.speed = Math.min(Math.max(1, this.options.speed), 30);

        if(String(this.options.font.y).indexOf('%') > 0){
            this.options.font.y = this.outerRadius * parseInt(this.options.font.y)/100;
        }
        
        if(String(this.options.images.y).indexOf('%') > 0){
            this.options.images.y = this.outerRadius * parseInt(this.options.images.y)/100;
        }
    },
    /*重置canvas尺寸*/
    _setLayout: function(){
        var oCanvas  = this.oCanvas;
        var diameter = oCanvas.offsetWidth || oCanvas.clientWidth || oCanvas.width;

        oCanvas.style.height = diameter + 'px';
        oCanvas.style.width = diameter + 'px';

        diameter = diameter * this.options.scale;

        this.diameter = oCanvas.width = oCanvas.height = diameter;
        this.radius   = diameter/2;
    },
    /*获取文字的样式*/
    _getFontStyle: function(){
        var scale = this.options.scale;
        var fontStyle = this.options.font;
        return '{{style}} {{weight}} {{size}}/{{lineHeight}} {{family}}'.replace(/\{\{([^}]*)\}\}/g, function(a, b){
            return b == 'size' ? parseInt(fontStyle[b]) * scale + 'px' : fontStyle[b];
        })
    },
    /*画扇形*/
    _drawArc: function(){
        this.ctx.save();
        var fillStyle = this.options.fillStyle;
        if(!fillStyle)return;
      
        for(var i = 0; i < this.size; i++){
            var sAngle = this.sAngle + this.angle*i;
            this.ctx.beginPath();
            this.ctx.fillStyle = fillStyle[i%fillStyle.length];
            this.ctx.arc(this.radius, this.radius, this.innerRadius, sAngle, sAngle + this.angle, false);
            this.ctx.arc(this.radius, this.radius, this.outerRadius, sAngle + this.angle, sAngle, true);
            this.ctx.closePath();
            this.ctx.fill();
        }
        this.ctx.restore();
    },
    isArray: function(arr){
        return arr && Object.prototype.toString.call(arr) == '[object Array]';
    },
    /*画扇形上的文字*/
    _drawText: function(){
        var fonts = this.options.font;
        var scale = this.options.scale;
        for(var i = 0; i < this.size; i++){
            var textArr  = this._cleverBreak(this.options.products[i].name);
            this.ctx.save();
            this.ctx.translate(this.radius, this.radius);
            this.ctx.rotate(this.angle * i);
            this.ctx.fillStyle = this.isArray(fonts.color) ? fonts.color[i%fonts.color.length] : fonts.color;
            this.ctx.font = this._getFontStyle();
            this.ctx.fillText(textArr[0], -this.ctx.measureText(textArr[0]).width/2, - fonts.y);

            if(textArr[1]){
                var y = -(fonts.y-(parseInt(fonts.size)*scale*this.options.font.lineHeight));
                this.ctx.fillText(textArr[1], -this.ctx.measureText(textArr[1]).width/2, y);
            }
            this.ctx.restore();

            this.options.products[i].imgUrl && this.imgUrl.push(this.options.products[i].imgUrl);
        }
    },
    /*文字断行*/
    _cleverBreak: function(str){
        var res, keys = this.options.breakText;
        if(!str){return res}
        for(var i = 0; i < keys.length; i++){
            var idx = str.indexOf(keys[i]);
            if(idx > -1){
                res = [str.substr(0, idx), str.substr(idx)];
                break;
            }
        }
        return res || [str];
    },
    /*绘制图片*/
    _drawImg: function(){
        var self   = this, 
            width  = this.options.images.width,
            height = this.options.images.height;

        this._loadImg(this.imgUrl, function(img){
            var scale = self.options.scale;
            for(var i = 0; i < img.length; i++){
                var ret = img[i], 
                    w   = (width || ret.width) *  scale,
                    h   = (height || ret.height) * scale;

                self.ctx.save();
                self.ctx.translate(self.radius, self.radius);
                self.ctx.rotate(self.angle * i);
                self.ctx.drawImage(ret, -w/2 , -self.options.images.y, w, h);
                self.ctx.restore();
            };
        });
    },
    /*绘制画布*/
    _draw: function(){
        var options  = this.options,
            products = options.products,
            cx = this.cx, imgArr = [];

        this.ctx.clearRect(0, 0, this.diameter, this.diameter);
        this._drawArc();
        this._drawText();
        this._drawImg();
    },
    /*加载要绘制的图片*/
    _loadImg: function(srcArr, callback){
        var img  = document.createElement('img');
        var cur  = cur || 0;
        var self = this;

        if(!self.cur){
            self.cur = 0;
            self.oImages = [];
        }

        var src = srcArr[self.cur++];
        img.src = src + '?' + self.cur;

        img.onload = function(){
            self.oImages.push(this);
            if(self.cur < srcArr.length){
                self._loadImg(srcArr, callback);
            }else{
                self.cur = false;
                callback(self.oImages);
            }
            this.onload = false;
        };

        img.onerror = function(){
            //console.log(this.src);
        }
    },
    /*开始旋转转盘*/
    _beginRotate: function(){
        var self = this, cSpeed = 0, is = 0,
            iSpeed = this.options.speed;

        self.cSpeed = 0;
        self.isOver = false;
        clearInterval(self.timer);

        self.timer = setInterval(function(){
            is = (iSpeed-cSpeed)/iSpeed;
            is = is > 0 ? Math.ceil(is) : Math.floor(is);
            cSpeed += is;
            if(cSpeed>iSpeed){
                is = iSpeed;
            }
            self.cSpeed = cSpeed;
            self.rotate += cSpeed;
            self.setRotateStyle(self.rotate);
        }, 30);
    },
    /*开始抽奖*/
    _start: function(){
        var self = this;
        if(!this.options.handler)return;
        this._fastClick(this.options.handler, function(ev){
            if(self.hasClass(this, 'disabled'))return;
            if(self.isOver){
                // 隐藏之前的结果显示
                resultContainer.classList.remove('show');
                
                self.sTime = self.now();
                self._beginRotate();
                typeof self.options.handlerCallback === 'function' && self.options.handlerCallback.call(this, self);
            }
        });
    },
    _off: function(elemet, eventType, callback){
        elemet.removeEventListener(eventType, callback, false);
    },
    _fastClick: function(elemet, callback){
        if('ontouchstart' in document){
            elemet.addEventListener('touchstart', callback, false);
        }else{
            elemet.addEventListener('click', callback, false);
        }
    },
    /*简单的继承*/
    extend: function(source, distance){
        for(var attr in distance){
            if(distance[attr] !== undefined){
                source[attr] = distance[attr];
            }
        }
        return source;
    },
    /*设置旋转*/
    setRotateStyle: function(rotate){
        this.prefix('transform', 'rotate(' + rotate + 'deg)');
    },
    prefix: function(attr, val){
        if(!val)return;
        var _fix = ['moz', 'o', 'webkit'], self = this;
        _fix.map(function(item){
            self.oCanvas.style[item + self.capitalize(attr)] = val;
        });
        self.oCanvas.style[attr] = val;
    },
    capitalize: function(str){
        return str.substr(0, 1).toUpperCase() + str.substr(1);
    },
    /*判断指定className是否存在*/
    hasClass: function(elemet, className){
        var cls = elemet.className;
        return !!cls.match(new RegExp('\\b' + className + '\\b'));
    },
    /*停止转动, idx为指定停止的位置*/
    stop: function(idx, callback){
        var iTime = Math.max(0, this.options.duration - this.now() + this.sTime);
        var self  = this, durTimer = null;
        durTimer = setTimeout(function(){
            if(self.options.interval > 0){
                self._stop(idx, function(_interface){
                    _interface.isOver = false;
                    _interface.intervalTimer = setTimeout(function(){
                        _interface.isOver = true;
                        clearTimeout(_interface.intervalTimer);
                        callback && callback(_interface);
                    }, _interface.options.interval)
                });
            }else{
                self._stop.apply(self, arguments);
            }
            clearTimeout(durTimer);
        }, iTime);

    },
    _stop: function(idx, callback){
        var stopTimer = null, self = this, iAngle = 360/self.size;
        var iTarget   = self.rotate + 360*4 + (self.size - idx - self.rotate%360/iAngle) * iAngle;
        var iSpeed    = this.options.speed;

        this.timer && clearInterval(this.timer);
        function move(){
            var cSpeed = (iTarget - self.rotate)/iSpeed;
                cSpeed = cSpeed > 0 ? Math.ceil(cSpeed) : Math.floor(cSpeed);

            if(cSpeed > self.cSpeed){
                cSpeed = self.cSpeed;
            }
            self.rotate += cSpeed;
            self.rotate >= iTarget && (self.rotate = iTarget, self.isOver = true);
            self.setRotateStyle(self.rotate);
            if(self.isOver){clearInterval(stopTimer); callback && callback(self);}
        }
        stopTimer = setInterval(move, 30);
    },
    now: function(){
        return new Date() - 0;
    },
    ua: {
        isIos: /iphone|ipad/i.test(navigator.userAgent),
        isAndroid: /android/i.test(navigator.userAgent)
    },
    /*设置配置项*/
    _setOptions: function(options){
        /*默认配置项*/
        var config = {
            /*点击抽奖元素*/
            handler: '',
            /*点击抽奖的回调*/
            handlerCallback: function(_interface){},
            outerRadius: '',
            innerRadius: 0,
            /*循环填充数组颜色*/
            fillStyle: [ '#fff3e0', '#fff9c4', '#fffee6','#ffdf8a', '#fffdc9', '#ffeaa7', '#fff9c4', '#ffecb3', ],
            /*重复触发的间距时间*/
            interval: 1000,
            /*速度越大越快*/
            speed: 16,
            /*运动最少持续时间*/
            duration: 2000,
            /*字体位置与样式*/
            /*画布显示缩放比例,值为1 安卓模糊*/
            scale: this.ua.isIos ? 2 : 2,
            /*字体样式,浅拷贝 需整个font对象传入*/
            font: {
                y: '50%',
                color: '#ee6500',
                /*循环填充字体颜色*/
                //color: ['#f00', '#ee6500'],
                style: 'normal',
                weight: 500,
                size: '10px',
                lineHeight: 1,
                family: 'Arail'
            },
            /*图片位置与尺寸*/
            images: {
                y: '88%',
                width: 32,
                height: 32
            },
            /*打断文字换行*/
            breakText: ['金币', '红包'],
            /*礼物*/
            products: [
                /*{
                    imgUrl: 'http://',
                    text: '苹果手机',
                }*/
            ]
        };
        return this.extend(config, options);
    }
};

window.Lottery = Lottery;
}());

new Lottery(document.getElementById('lottery'), {
	handler: document.getElementById('lottery-handler'),
	handlerCallback: function(_interface){
		/*ajax获取中奖结果*/
		_ajax(function(response){
			console.log(response);
			/*指定停止的位置:索引*/
			_interface.stop(response.index, function(){
				// 在页面上显示中奖结果
				resultText.textContent = response.title;
				// 显示中奖图片
				resultImg.src = response.imgUrl;
				// 显示中奖类型
				resultTitle.textContent = response.type;
				// 添加显示动画
				setTimeout(function(){
					resultContainer.classList.add('show');
				}, 300);
			});
		});
	},
    images: {
        width: 22,
        height: 29,
        y: '88%',
    },
	products: products
});

</script>
</body>
</html>